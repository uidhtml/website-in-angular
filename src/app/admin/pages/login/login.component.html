<div class="loginBg"></div>
<div class="hangingLogo">
    <app-rotate-logo></app-rotate-logo>
</div>

<div class="loginPage">
    <div class="card-header">
        <p class="text-light">admin</p>
        <h1 class="rounded-top bg-danger text-light"><svg _ngcontent-moa-c6="" class="feather feather-lock" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <rect _ngcontent-moa-c6="" fill="#fff" height="11" rx="2" ry="2" width="18" x="3" y="11"></rect>
        <path _ngcontent-moa-c6="" d="M7 11V7a5 5 0 0 1 10 0v4"></path>
      </svg></h1>
    </div>

    <form [formGroup]="form" (ngSubmit)="onSubmit($event)">
        <!-- <div class="card bg-danger">
            <div class="card-body">
                <div class="row mb-4">
                    <div class="col">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-success border border-success text-light"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg></div>
                            </div>
                            <input type="text" class="form-control border border-success" formControlName="email" placeholder="email@domain.com">
                        </div>
                        <ng-container *ngFor="let msg of errorMsg.email">
                            <div class="alert alert-danger" role="alert" *ngIf="form.get('email').hasError(msg.type) && (form.get('email').dirty || form.get('email').touched)
                                ">{{msg.message}}</div>
                        </ng-container>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text bg-success border border-success text-light"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-key">
                    <path
                      d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4">
                    </path>
                  </svg></div>
                            </div>
                            <input type="password" class="form-control border border-success" formControlName="password" placeholder="********">
                        </div>
                        <ng-container *ngFor="let msg of errorMsg.password">
                            <div class="alert alert-danger" role="alert" *ngIf="form.get('password').hasError(msg.type) && (form.get('password').dirty || form.get('password').touched)
                            ">{{msg.message}}</div>
                        </ng-container>
                    </div>
                </div>
                <div class="row result mt-4">
                    <div class="col text-light">
                        Form value: {{form.value | json}}<br><br>valid: {{form.valid}}
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="row">
                    <div class="col d-flex justify-content-between">
                        <button class="btn btn-success" [disabled]="!form.valid">Login<svg xmlns="http://www.w3.org/2000/svg"
                width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-in ml-1">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                <polyline points="10 17 15 12 10 7"></polyline>
                <line x1="15" y1="12" x2="3" y2="12"></line>
              </svg></button>
                        <a href="" class="btn btn-link text-light"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" class="feather feather-unlock mr-1">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
              </svg>Forgot password</a>
                    </div>
                </div>
            </div>
        </div> -->
        <mat-card [ngClass]="{'error':!form.valid && (form.get('email').dirty || form.get('email').touched || form.get('password').dirty || form.get('password').touched)}">
            <mat-card-content>
                <mat-form-field class="full-width" [ngClass]="{'error' : !form.get('email').valid && (form.get('email').dirty || form.get('email').touched)}">
                    <input matInput placeholder="Username" formControlName="email">
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-error>
                        <ng-container *ngFor="let msg of errorMsg.email">
                            <ng-container *ngIf="form.get('email').hasError(msg.type) && (form.get('email').dirty || form.get('email').touched)">
                                {{msg.message}}
                            </ng-container>
                        </ng-container>
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="full-width" [ngClass]="{'error' : !form.get('password').valid && (form.get('password').dirty || form.get('password').touched)}">
                    <input matInput placeholder="Password" formControlName="password" [type]="hide ? 'password' : 'text'">
                    <mat-icon matPrefix>vpn_key</mat-icon>
                    <button mat-icon-button matSuffix [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide"><mat-icon (click)="hide = !hide; $event.preventDefault()">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon></button>
                    <mat-error>
                        <ng-container *ngFor="let msg of errorMsg.password">
                            <ng-container *ngIf="form.get('password').hasError(msg.type) && (form.get('password').dirty || form.get('password').touched)">
                                {{msg.message}}
                            </ng-container>
                        </ng-container>
                    </mat-error>
                </mat-form-field>
            </mat-card-content>
            <mat-card-footer>
                <mat-card-actions>
                    <button mat-raised-button color="primary" [disabled]="!form.valid">LOGIN<mat-icon>arrow_right</mat-icon></button>
                    <a mat-button>Forget password<mat-icon class="ml-1">vpn_key</mat-icon></a>
                </mat-card-actions>
            </mat-card-footer>

        </mat-card>
    </form>
    <pre style="color:#fff; font-size:.9rem; margin-top: 20px; text-align: left; line-height: 1.5">Form value: {{form.value | json}}<br><br>valid: {{form.valid}}
        </pre>
</div>